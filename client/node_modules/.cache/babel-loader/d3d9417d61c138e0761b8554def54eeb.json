{"ast":null,"code":"import _classCallCheck from \"/Users/josefutleg/Desktop/projects/memelash-app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/josefutleg/Desktop/projects/memelash-app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/josefutleg/Desktop/projects/memelash-app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/josefutleg/Desktop/projects/memelash-app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/josefutleg/Desktop/projects/memelash-app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/josefutleg/Desktop/projects/memelash-app/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport { _signUp, _login } from \"./services/AuthService\";\nimport { _getAvailableRooms } from \"./services/GamesService\";\nimport socketIOClient from \"socket.io-client\"; // import { _getAvailableRooms } from \"./services/GameService\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.login = function (event) {\n      event.preventDefault();\n      var inputs = event.target.children;\n      var username = inputs[0].value;\n      var password = inputs[2].value;\n      return _login(username, password).then(function (res) {\n        if (res.token) {\n          _this.setState({\n            userId: res.userId\n          });\n\n          _this.setState({\n            username: res.username\n          });\n\n          _this.setState({\n            score: res.score\n          });\n\n          _this.setState({\n            currentGame: res.currentGame\n          });\n\n          _this.setState({\n            input: res.input\n          });\n\n          _this.setState({\n            vote: res.vote\n          });\n\n          _this.setState({\n            logged_in: true\n          }, function () {\n            localStorage.setItem(\"token\", res.token);\n            alert(this.state.response);\n            console.log(this.state);\n            return _getAvailableRooms();\n          });\n        } else {\n          alert(\"invalid username/password\");\n        }\n      });\n    };\n\n    _this.logout = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        userId: \"\"\n      });\n\n      _this.setState({\n        username: \"\"\n      });\n\n      _this.setState({\n        logged_in: false\n      }, function () {\n        localStorage.removeItem(\"token\");\n      });\n    };\n\n    _this.signUp = function (event) {\n      event.preventDefault();\n      var inputs = event.target.children;\n      var username = inputs[0].value;\n      var password = inputs[2].value;\n      var passwordConf = inputs[4].value;\n\n      if (password == passwordConf) {\n        return _signUp(username, password).then(function (res) {\n          console.log(res);\n          alert(res.message);\n        });\n      } else {\n        alert(\"your password and password confirmation have to match!\");\n      }\n    };\n\n    _this.state = {\n      logged_in: false,\n      username: \"\",\n      userId: \"\",\n      response: false,\n      endpoint: \"http://localhost:3001\",\n      score: \"\",\n      currentGame: \"\",\n      input: \"\",\n      vote: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = this.state.endpoint;\n      console.log(this.state);\n      var socket = socketIOClient(endpoint);\n      console.log(this.state.response);\n      socket.on(\"FromAPI\", function (data) {\n        return _this2.setState({\n          response: \"\".concat(data)\n        });\n      }); // socket.on(console.log(\"socket connected\"));\n    } // getAvailableRooms = () => {\n    //   return fetch(\"http://localhost:3001/games\", {\n    //     method: \"POST\",\n    //     headers: {\n    //       Accept: \"application/json\",\n    //       \"Content-Type\": \"application/json\"\n    //     }\n    //   })\n    //     .then(res => res.json())\n    //     .then(resultingJSON => {\n    //       console.log(resultingJSON);\n    //     });\n    // };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, this.state.logged_in === true && React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"log out\"), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"hello, \", this.state.username, \"!\")), this.state.logged_in === false && React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logInForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"login\",\n        onSubmit: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"log in\"))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"signUpForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"signUp\",\n        onSubmit: this.signUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"new username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"new password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"confirm password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"sign up\")))), this.state.logged_in === true && React.createElement(\"div\", {\n        className: \"roomContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/josefutleg/Desktop/projects/memelash-app/client/src/App.js"],"names":["React","Component","_signUp","_login","_getAvailableRooms","socketIOClient","App","login","event","preventDefault","inputs","target","children","username","value","password","then","res","token","setState","userId","score","currentGame","input","vote","logged_in","localStorage","setItem","alert","state","response","console","log","logout","removeItem","signUp","passwordConf","message","endpoint","socket","on","data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { _signUp, _login } from \"./services/AuthService\";\nimport { _getAvailableRooms } from \"./services/GamesService\"\nimport socketIOClient from \"socket.io-client\";\n// import { _getAvailableRooms } from \"./services/GameService\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      logged_in: false,\n      username: \"\",\n      userId: \"\",\n      response: false,\n      endpoint: \"http://localhost:3001\",\n      score: \"\",\n      currentGame: \"\",\n      input: \"\",\n      vote: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const { endpoint } = this.state;\n    console.log(this.state);\n    const socket = socketIOClient(endpoint);\n    console.log(this.state.response);\n    socket.on(\"FromAPI\", data => this.setState({ response: `${data}` }));\n    // socket.on(console.log(\"socket connected\"));\n  }\n\n  // getAvailableRooms = () => {\n  //   return fetch(\"http://localhost:3001/games\", {\n  //     method: \"POST\",\n  //     headers: {\n  //       Accept: \"application/json\",\n  //       \"Content-Type\": \"application/json\"\n  //     }\n  //   })\n  //     .then(res => res.json())\n  //     .then(resultingJSON => {\n  //       console.log(resultingJSON);\n  //     });\n  // };\n\n  login = event => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    return _login(username, password).then(res => {\n      if (res.token) {\n        this.setState({ userId: res.userId });\n        this.setState({ username: res.username });\n        this.setState({ score: res.score });\n        this.setState({ currentGame: res.currentGame });\n        this.setState({ input: res.input });\n        this.setState({ vote: res.vote });\n        this.setState({ logged_in: true }, function() {\n          localStorage.setItem(\"token\", res.token);\n          alert(this.state.response);\n          console.log(this.state);\n          return  _getAvailableRooms();\n        });\n      } else {\n        alert(\"invalid username/password\");\n      }\n    });\n  };\n\n  logout = event => {\n    event.preventDefault();\n    this.setState({ userId: \"\" });\n    this.setState({ username: \"\" });\n    this.setState({ logged_in: false }, function() {\n      localStorage.removeItem(\"token\");\n    });\n  };\n\n  signUp = event => {\n    event.preventDefault();\n\n    let inputs = event.target.children;\n    let username = inputs[0].value;\n    let password = inputs[2].value;\n    let passwordConf = inputs[4].value;\n\n    if (password == passwordConf) {\n      return _signUp(username, password).then(res => {\n        console.log(res);\n        alert(res.message);\n      });\n    } else {\n      alert(\"your password and password confirmation have to match!\");\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.logged_in === true && (\n          <div className=\"header\">\n            <button onClick={this.logout}>log out</button>\n            <h4>hello, {this.state.username}!</h4>\n          </div>\n        )}\n        {this.state.logged_in === false && (\n          <div className=\"form\">\n            <div className=\"logInForm\">\n              <form id=\"login\" onSubmit={this.login}>\n                <input type=\"text\" name=\"name\" placeholder=\"username\" />\n                <br />\n                <input type=\"password\" name=\"password\" placeholder=\"password\" />\n                <br />\n                <button>log in</button>\n              </form>\n            </div>\n            <br />\n            <div className=\"signUpForm\">\n              <form id=\"signUp\" onSubmit={this.signUp}>\n                <input type=\"text\" name=\"name\" placeholder=\"new username\" />\n                <br />\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"new password\"\n                />\n                <br />\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"confirm password\"\n                />\n                <br />\n                <button>sign up</button>\n              </form>\n            </div>\n          </div>\n        )}\n        {this.state.logged_in === true && <div className=\"roomContainer\" />}\n\n        {/* <button\n          onClick={\n            (this.test = event => {\n              console.log(this.state);\n            })\n          }\n        >\n          test\n        </button> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}